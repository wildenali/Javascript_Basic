<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .container {
            margin: auto;
            width: 240px;
            border: 3px solid #73AD21;
            padding: 10px;
        }
        
        #box1,
        #box2,
        #box3,
        #box4,
        #box5,
        #box6,
        #box7,
        #box8,
        #box9 {
            width: 50px;
            height: 50px;
            background-color: silver;
            padding: 0 10px;
            float: right;
            margin: 5px;
            cursor: pointer;
        }
        
        */
    </style>
</head>

<body>

    <h2>Game Tebak Posisi Warna</h2>
    <p>Maksimal 3 Kali Pilih</p>

    <div class="container">
        <div class="box" id="box1"></div>
        <div class="box" id="box2"></div>
        <div class="box" id="box3"></div>
        <br style="clear: both;">
        <div class="box" id="box4"></div>
        <div class="box" id="box5"></div>
        <div class="box" id="box6"></div>
        <br style="clear: both;">
        <div class="box" id="box7"></div>
        <div class="box" id="box8"></div>
        <div class="box" id="box9"></div>
        <br style="clear: both;">
    </div>

    <h3 id="hitung">Jumlah Klik = </h3>
    <h1 id="hasil"></h1>



    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        // memastikan file sudah di load dengan sempurna
        $(document).ready(function() {

            // generate angka acak 1-9
            var angka = Math.floor((Math.random() * 9) + 1);

            // tambah awalan agar sesuai dengan id box, misal box3
            var box_ajaib = "box" + angka;
            console.log(box_ajaib);

            // siapkan variabel counter
            var jumlah_klik = 0;
            var ketemu = "belum";

            $('.box').click(function() {
                console.log($(this).attr("id"));

                if ((ketemu == 'sudah') || (ketemu == 'gagal')) {
                    return false;
                }

                // ubah warna background box
                if ($(this).attr('id') === box_ajaib) {
                    $(this).css('background-color', 'green');
                    ketemu = 'sudah';
                } else {
                    // $(this).css('background-color', 'red');
                    $(this).css("background-color", "red");
                }

                jumlah_klik++;
                $('#hitung').html('Jumlah Klik = ' + jumlah_klik);

                // Cek hasil game
                if ((ketemu == 'sudah') && (jumlah_klik <= 3)) {
                    $('#hasil').html("Yes");
                } else if ((ketemu == 'belum') && (jumlah_klik >= 3)) {
                    $('#hasil').html("No");
                    ketemu = 'gagal';
                }
            })
        });
    </script>

</body>

</html>